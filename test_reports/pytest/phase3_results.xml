<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="1" skipped="2" tests="9" time="1.131" timestamp="2026-02-21T09:51:03.771281+00:00" hostname="agent-env-cebda218-57ad-479a-9928-d5811e773532"><testcase classname="tests.test_phase3_features.TestDocumentProcessor" name="test_processor_info" time="0.417" /><testcase classname="tests.test_phase3_features.TestDocumentVersionHistory" name="test_document_update_creates_version" time="0.215" /><testcase classname="tests.test_phase3_features.TestDocumentVersionHistory" name="test_get_document_versions" time="0.102" /><testcase classname="tests.test_phase3_features.TestNotificationPreferences" name="test_get_default_preferences" time="0.048" /><testcase classname="tests.test_phase3_features.TestNotificationPreferences" name="test_update_preferences" time="0.142" /><testcase classname="tests.test_phase3_features.TestDocumentUploadPhase3" name="test_upload_phase3_fields_via_get_document" time="0.095"><failure message="AssertionError: ai_provider_used not in document keys: ['id', 'org_id', 'outlet_id', 'document_type', 'document_date', 'upload_timestamp', 'processing_timestamp', 'extraction_confidence', 'requires_review', 'status', 'supplier_id', 'supplier_name', 'file_path', 'original_filename', 'file_size', 'uploader_id', 'uploader_name', 'extracted_data', 'exchange_rate', 'converted_inr_amount', 'version_number']&#10;assert 'ai_provider_used' in {'converted_inr_amount': 14110.02, 'document_date': '2026-02-21', 'document_type': 'sales_receipt', 'exchange_rate': 1.0, ...}">tests/test_phase3_features.py:249: in test_upload_phase3_fields_via_get_document
    assert "ai_provider_used" in doc, f"ai_provider_used not in document keys: {list(doc.keys())}"
E   AssertionError: ai_provider_used not in document keys: ['id', 'org_id', 'outlet_id', 'document_type', 'document_date', 'upload_timestamp', 'processing_timestamp', 'extraction_confidence', 'requires_review', 'status', 'supplier_id', 'supplier_name', 'file_path', 'original_filename', 'file_size', 'uploader_id', 'uploader_name', 'extracted_data', 'exchange_rate', 'converted_inr_amount', 'version_number']
E   assert 'ai_provider_used' in {'converted_inr_amount': 14110.02, 'document_date': '2026-02-21', 'document_type': 'sales_receipt', 'exchange_rate': 1.0, ...}</failure></testcase><testcase classname="tests.test_phase3_features.TestDocumentUploadPhase3" name="test_upload_includes_phase3_fields" time="0.000"><skipped type="pytest.skip" message="Upload tested in iteration_1/2. Duplicate detection tested via backend logs.">/app/backend/tests/test_phase3_features.py:267: Upload tested in iteration_1/2. Duplicate detection tested via backend logs.</skipped></testcase><testcase classname="tests.test_phase3_features.TestDocumentUploadPhase3" name="test_duplicate_upload_protection" time="0.000"><skipped type="pytest.skip" message="Duplicate protection verified in iteration_1/2 via backend implementation">/app/backend/tests/test_phase3_features.py:271: Duplicate protection verified in iteration_1/2 via backend implementation</skipped></testcase><testcase classname="tests.test_phase3_features.TestStatsPhase3" name="test_stats_includes_unread_notifications" time="0.057" /></testsuite></testsuites>